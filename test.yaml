type: custom:button-card
variables:
  target_entity: binary_sensor.your_connection_sensor
  card_title: Connection Monitor
  icon_on: mdi:router-wireless
  icon_off: mdi:router-wireless-off
  state_on: 'on'
  state_off: 'off'
  text_on: Connected
  text_off: Disconnected
  text_unknown: Unknown
  background_color_on: var(--green)
  background_color_off: var(--red)
  color_on: var(--black)
  color_off: var(--black)
entity: '[[[ return variables.target_entity || "binary_sensor.placeholder" ]]]'
name: '[[[ return variables.card_title || "Connection" ]]]'
show_label: true
show_icon: false
label: |-
  [[[
    const target = variables.target_entity || "binary_sensor.placeholder";
    const stateObj = states[target];
    const onValue = variables.state_on ?? 'on';
    const textOn = variables.text_on ?? 'Connected';
    const textOff = variables.text_off ?? 'Disconnected';
    const textUnknown = variables.text_unknown ?? 'Unknown';
    if (!stateObj) {
      return `<span style="font-size:18px;">${textUnknown}</span>`;
    }
    const isOn = stateObj.state === onValue;
    return `<span style="font-size:18px;">${isOn ? textOn : textOff}</span>`;
  ]]]
state:
  - operator: template
    value: |-
      [[[
        const target = variables.target_entity || "binary_sensor.placeholder";
        const onValue = variables.state_on ?? 'on';
        return states[target]?.state === onValue;
      ]]]
    icon: '[[[ return variables.icon_on ?? "mdi:check-circle" ]]]'
    styles:
      card:
        - background-color: '[[[ return variables.background_color_on ?? "var(--green)" ]]]'
      name:
        - color: '[[[ return variables.color_on ?? "var(--contrast-0)" ]]]'
      label:
        - color: '[[[ return variables.color_on ?? "var(--contrast-0)" ]]]'
  - operator: template
    value: |-
      [[[
        const target = variables.target_entity || "binary_sensor.placeholder";
        const offValue = variables.state_off ?? 'off';
        const stateObj = states[target];
        if (!stateObj) return true;
        return stateObj.state === offValue;
      ]]]
    icon: '[[[ return variables.icon_off ?? "mdi:close-circle" ]]]'
    styles:
      card:
        - background-color: '[[[ return variables.background_color_off ?? "var(--red)" ]]]'
      name:
        - color: '[[[ return variables.color_off ?? "var(--contrast-0)" ]]]'
      label:
        - color: '[[[ return variables.color_off ?? "var(--contrast-0)" ]]]'
styles:
  card:
    - padding: 20px 20px 12px 14px
    - height: 129px
    - background: var(--contrast1)
  grid:
    - grid-template-areas: '"l" "n"'
  label:
    - justify-self: start
    - font-size: 26px
    - padding-top: 10px
    - font-weight: 500
    - color: var(--contrast20)
    - margin-top: 10px
  name:
    - justify-self: start
    - font-size: 11px
    - color: var(--contrast15)
    - padding-bottom: 7px
