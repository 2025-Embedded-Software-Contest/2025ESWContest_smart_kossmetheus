card_persons: #가족
  name: "[[[ return entity.attributes.friendly_name ]]]"
  show_label: true
  show_entity_picture: true
  triggers_update: "all"
  label: |
    [[[
      if (entity.state == 'home')
        return '<재실>';
      if (entity.state == 'not_home')
        return '<부재>';
    ]]]
  state:
    - value: 'home'
      styles:
        card:
          - animation: pulse 2s infinite
          - '--mdc-ripple-color': blue
    - value: 'not_home'
      styles:
        card:
          - animation: pulse 2s infinite
          - '--mdc-ripple-color': pink
        icon:
          - animation: blink 2s ease infinite
  styles:
    card:
      #- box-shadow: none
      - height: 200px
    grid:
      - grid-template-areas: '"i" "n" "l"'
      - grid-template-columns: 1fr
      - grid-template-rows: 1fr min-content min-content
    img_cell:
      - padding-top: 10px
    icon:
      - width: 70px
      - filter: |
          [[[
            if (entity.state == 'home')
              return 'grayscale(0%)';
            if (entity.state == 'not_home')
              return 'grayscale(100%)';
          ]]]
    name:
      - font-size: 13px
      - color: var(--text-primary-color)
    label:
      - padding-bottom: 50px
      - font-size: 13px
      - color: |
          [[[
            if (entity.state == 'home')
              return 'transparent';
            if (entity.state == 'not_home')
              return 'var(--google-red)';
          ]]]
    custom_fields:
      topleft:
        - top: 10px
        - left: 10px
        - position: absolute
        - justify-self: start
      topright:
        - top: 10px
        - right: 25px
        - position: absolute
        - justify-self: end
      topright1:
        - top: 10px
        - right: 10px
        - position: absolute
      topright2:
        - top: 25px
        - right: 10px
        - position: absolute
        - justify-self: end
      topright3:
        - top: 28px
        - right: 20px
        - position: absolute
        - justify-self: end
      graph:
        - left: 0px
        - bottom: 0px
        - position: absolute
  custom_fields:
    topleft:
      card:
        type: custom:button-card
        show_name: false
        show_state: true
        show_icon: false
        styles:
          card:
            - background: transparent
            - box-shadow: none
          grid:
            - grid-template-areas: '"i s"'
            - grid-template-columns: min-content auto
            - grid-template-rows: min-content 1fr 40% min-content
          icon:
            - bottom: 1px
            - width: 13px
          state:
            - justify-self: end
            - font-size: 13px
            - color: |
                [[[
                  if (entity.state == 'home')
                    return 'transparent';
                  if (entity.state == 'not_home')
                    return 'var(--primary-text-color)';
                ]]]
    topright:
      card:
        type: custom:button-card
        show_name: false
        show_state: true
        icon: "[[[ return entity.attributes.icon ]]]"
        styles:
          card:
            - background: transparent
            - box-shadow: none
          grid:
            - grid-template-areas: '"i s"'
            - grid-template-columns: min-content auto
          icon:
            - bottom: 1px
            - width: 13px
          state:
            - font-size: 13px
            - font- color: 'var(--primary-text-color)'
        tap_action:
          action: none
    topright1:
      card:
        type: custom:button-card
        show_name: false
        show_state: false
        icon: "[[[ return entity.attributes.icon ]]]"
        styles:
          card:
            - background: transparent
            - box-shadow: none
          icon:
            - width: 13px
        state:
          - value: 'normal'
            color: 'var(--primary-text-color)'
          - value: 'vibrate'
            color: 'var(--google-blue)'
          - value: 'silent'
            color: 'var(--google-red)'
        tap_action:
          action: none
    topright2:
      card:
        type: custom:button-card
        show_name: false
        show_state: false
        icon: |
          [[[
            if (entity.state == 'off')
              return 'transparent';
            if (entity.state == 'on')
              return 'var(--primary-text-color)';
          ]]]
        styles:
          card:
            - background: transparent
            - box-shadow: none
          icon:
            - width: 12px
        tap_action:
          action: none
    topright3:
      card:
        type: custom:button-card
        show_state: false
        show_name: false
        show_icon: false
        show_label: true
        styles:
          card:
            - background: transparent
            - box-shadow: none
            - font-size: 13px
        tap_action:
          action: none
    graph:
      card:
        type: custom:mini-graph-card
        show_points: false
        hours_to_show: 12
        points_per_hour: 1
        line_width: 5
        line_color: skyblue
        card_mod:
          style: |
            .graph .graph__container .graph__container__svg svg g mask .line {
              animation-duration: 5s !important;
              animation-delay: 0s !important;
              animation-timing-function: linear !important;
              animation-iteration-count: infinite !important;
            }
            ha-card {
              background-color: transparent;
              box-shadow: none;
            }
        show:
          fill: true
          icon: false
          name: false
          points: false
        font_size: 40
        color_thresholds:
          - value: 26
            color: '#3498db'
          - value: 32
            color: '#f39c12'
          - value: 38
            color: '#E45E65'
          - value: 45
            color: '#fc000d'
        animate: true
        tap_action:
          action: none
