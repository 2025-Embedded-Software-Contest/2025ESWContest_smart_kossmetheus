views:
  - icon: mdi:home
    path: home
    type: sections
    max_columns: 2
    sections:
      - type: grid
        cards:
          - type: heading
            icon: ''
            heading_style: subtitle
          - type: custom:bubble-card
            card_type: button
            button_type: name
            name: 주방
            icon: mdi:countertop-outline
            styles: |-
              .scrolling-container {
                font-size: 16px;
              }

              .bubble-button-card-container {
                background: none !important;
              }

              .bubble-sub-button-1 {
                color: grey !important;
              }

              .bubble-sub-button-2 {
                background: color-mix(in srgb, currentColor 20%, transparent);
                color: var(--state-switch-on-color, var(--state-switch-active-color, var(--state-active-color))) !important;
              }
            sub_button:
              - icon: mdi:toggle-switch-variant-off
                show_name: false
                name: ''
                tap_action:
                  action: perform-action
                  perform_action: switch.turn_on
                  target:
                    area_id: bueok
                visibility:
                  - condition: state
                    entity: switch.jubang_jeondeung_top
                    state: 'off'
                  - condition: state
                    entity: switch.jubang_jeondeung_center
                    state: 'off'
                  - condition: state
                    entity: switch.jubang_jeondeung_bottom
                    state: 'off'
              - icon: mdi:toggle-switch-variant
                tap_action:
                  action: perform-action
                  perform_action: switch.turn_off
                  target:
                    area_id: bueok
                visibility:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: switch.jubang_jeondeung_top
                        state: 'on'
                      - condition: state
                        entity: switch.jubang_jeondeung_center
                        state: 'on'
                      - condition: state
                        entity: switch.jubang_jeondeung_bottom
                        state: 'on'
            card_layout: large
            button_action:
              tap_action:
                action: navigate
                navigation_path: '#dining_light'
            tap_action:
              action: navigate
              navigation_path: '#dining_light'
          - type: custom:timer-bar-card
            entity: sensor.setaggi
            duration:
              attribute: initial_time
            mushroom:
              layout: vertical
            bar_width: 60%
          - type: custom:timer-bar-card
            entity: sensor.geonjogi
            duration:
              attribute: initial_time
            mushroom:
              layout: vertical
              color: orange
            bar_width: 60%
      - type: grid
        cards:
          - type: heading
            icon: ''
            heading_style: subtitle
          - type: custom:bubble-card
            card_type: button
            button_type: name
            name: 거실
            icon: mdi:television
            styles: |-
              .scrolling-container {
                font-size: 16px;
              }

              .bubble-button-card-container {
                background: none !important;
              }

              .bubble-sub-button-1 {
                color: grey !important;
              }

              .bubble-sub-button-2 {
                background: color-mix(in srgb, currentColor 20%, transparent);
                color: rgb(${hass.states['light.living_floor_light'].attributes.rgb_color}) !important;
                filter: contrast(0.8) saturate(2);
              }

              .bubble-sub-button-3 {
                color: grey !important;
              }

              .bubble-sub-button-4 {
                background: color-mix(in srgb, currentColor 20%, transparent);
                color: var(--state-switch-on-color, var(--state-switch-active-color, var(--state-active-color))) !important;
              }
            sub_button:
              - icon: mdi:lightbulb-outline
                show_name: false
                name: ''
                tap_action:
                  action: perform-action
                  perform_action: light.turn_on
                  target:
                    area_id: geosil
                visibility:
                  - condition: state
                    entity: light.living_floor_light
                    state: 'off'
                show_icon: true
              - icon: mdi:lightbulb-on
                show_name: false
                name: ''
                tap_action:
                  action: perform-action
                  perform_action: light.turn_off
                  target:
                    area_id: geosil
                visibility:
                  - condition: state
                    entity: light.living_floor_light
                    state: 'on'
                show_icon: true
              - icon: mdi:toggle-switch-variant-off
                show_name: false
                name: ''
                tap_action:
                  action: perform-action
                  perform_action: switch.turn_on
                  target:
                    area_id: geosil
                visibility:
                  - condition: state
                    entity: switch.geosil_jeondeung_center_left
                    state: 'off'
                  - condition: state
                    entity: switch.geosil_jeondeung_bottom_left
                    state: 'off'
                  - condition: state
                    entity: switch.geosil_jeondeung_top_left
                    state: 'off'
                  - condition: state
                    entity: switch.geosil_jeondeung_top_right
                    state: 'off'
                  - condition: state
                    entity: switch.geosil_jeondeung_bottom_right
                    state: 'off'
              - icon: mdi:toggle-switch-variant
                tap_action:
                  action: perform-action
                  perform_action: switch.turn_off
                  target:
                    area_id: geosil
                visibility:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: switch.geosil_jeondeung_center_left
                        state: 'on'
                      - condition: state
                        entity: switch.geosil_jeondeung_bottom_left
                        state: 'on'
                      - condition: state
                        entity: switch.geosil_jeondeung_top_left
                        state: 'on'
                      - condition: state
                        entity: switch.geosil_jeondeung_top_right
                        state: 'on'
                      - condition: state
                        entity: switch.geosil_jeondeung_bottom_right
                        state: 'on'
            card_layout: large
            button_action:
              tap_action:
                action: navigate
                navigation_path: '#living_light'
            tap_action:
              action: navigate
              navigation_path: '#living_light'
          - type: custom:mushroom-media-player-card
            entity: media_player.uie4027lgu
            name: TV
            fill_container: false
            use_media_info: false
            show_volume_level: false
            media_controls:
              - on_off
            collapsible_controls: false
            grid_options:
              columns: full
            volume_controls:
              - volume_mute
              - volume_buttons
            layout: horizontal
          - type: tile
            entity: input_boolean.geosil_keompyuteo
            name: 컴퓨터
            color: blue
      - type: grid
        cards:
          - type: heading
            icon: ''
            heading_style: subtitle
          - type: custom:bubble-card
            card_type: button
            button_type: name
            name: 혁진방
            icon: mdi:door
            styles: |
              .scrolling-container {
                font-size: 16px;
              }

              .bubble-button-card-container {
                background: none !important;
              }

              .bubble-sub-button-1 {
                color: grey !important;
              }

              .bubble-sub-button-2 {
                background: color-mix(in srgb, currentColor 20%, transparent);
                color: rgb(${hass.states['light.coupy_floor_light'].attributes.rgb_color}) !important;
                filter: contrast(0.8) saturate(2);
              }

              .bubble-sub-button-3 {
                color: grey !important;
              }

              .bubble-sub-button-4 {
                background: color-mix(in srgb, currentColor 20%, transparent);
                color: var(--state-switch-on-color, var(--state-switch-active-color, var(--state-active-color))) !important;
              }
            sub_button:
              - icon: mdi:lightbulb-outline
                show_name: false
                name: ''
                tap_action:
                  action: perform-action
                  perform_action: light.turn_on
                  target:
                    area_id: hyeogjinbang
                visibility:
                  - condition: and
                    conditions:
                      - condition: state
                        entity: light.coupy_floor_light
                        state: 'off'
                      - condition: state
                        entity: light.coupy_indirect_light
                        state: 'off'
                      - condition: state
                        entity: light.coupy_reading_light
                        state: 'off'
                light_background: false
                state_background: false
                show_background: true
                entity: light.hagyeong_floor
              - icon: mdi:lightbulb-on
                show_name: false
                name: ''
                tap_action:
                  action: perform-action
                  perform_action: light.turn_off
                  target:
                    area_id: hyeogjinbang
                visibility:
                  - condition: or
                    conditions:
                      - condition: state
                        entity: light.coupy_floor_light
                        state: 'on'
                      - condition: state
                        entity: light.coupy_indirect_light
                        state: 'on'
                      - condition: state
                        entity: light.coupy_reading_light
                        state: 'on'
                light_background: false
                state_background: false
                show_background: false
                entity: light.hagyeong_floor
              - show_state: false
                show_last_changed: false
                show_attribute: false
                show_icon: true
                tap_action:
                  action: perform-action
                  perform_action: switch.turn_on
                  target:
                    area_id: hyeogjinbang
                icon: mdi:toggle-switch-variant-off
                visibility:
                  - condition: state
                    entity: switch.hyeogjinbang_jeondeung
                    state: 'off'
              - show_state: false
                show_last_changed: false
                show_attribute: false
                show_icon: true
                tap_action:
                  action: perform-action
                  perform_action: switch.turn_off
                  target:
                    area_id: hyeogjinbang
                icon: mdi:toggle-switch-variant
                visibility:
                  - condition: state
                    entity: switch.hyeogjinbang_jeondeung
                    state: 'on'
            card_layout: large
            button_action:
              tap_action:
                action: navigate
                navigation_path: '#coupy_light'
            tap_action:
              action: navigate
              navigation_path: '#coupy_light'
          - type: custom:mushroom-media-player-card
            entity: media_player.nesthubd87f
            show_volume_level: true
            media_controls:
              - next
              - play_pause_stop
              - on_off
            use_media_info: true
            volume_controls:
              - volume_set
              - volume_mute
            layout: horizontal
            grid_options:
              columns: full
            collapsible_controls: true
            card_mod:
              style: |
                ha-card {
                  {% if not is_state(config.entity, 'off') %}
                    background-image: url( '{{ state_attr( config.entity, "entity_picture" ) }}' );
                    background-position: center;
                    background-repeat: no-repeat;
                    background-size: cover;
                    position: relative;
                    background-blend-mode: overlay;
                  {% endif %}  
                }
          - type: tile
            entity: input_boolean.keompyuteo
            color: light-blue
          - type: tile
            entity: fan.coupy_fan
            name: 선풍기
      - type: grid
        cards:
          - type: heading
            icon: ''
            heading_style: subtitle
          - type: custom:bubble-card
            card_type: button
            button_type: name
            name: 하경방
            icon: mdi:door
            styles: |
              .scrolling-container {
                font-size: 16px;
              }

              .bubble-button-card-container {
                background: none !important;
              }

              .bubble-sub-button-1 {
                color: grey !important;
              }

              .bubble-sub-button-2 {
                background: color-mix(in srgb, currentColor 20%, transparent);
                color: rgb(${hass.states['light.hagyeong_floor'].attributes.rgb_color}) !important;
                filter: contrast(0.8) saturate(2);
              }

              .bubble-sub-button-3 {
                color: grey !important;
              }

              .bubble-sub-button-4 {
                background: color-mix(in srgb, currentColor 20%, transparent);
                color: var(--state-switch-on-color, var(--state-switch-active-color, var(--state-active-color))) !important;
              }
            sub_button:
              - icon: mdi:lightbulb-outline
                show_name: false
                name: ''
                tap_action:
                  action: perform-action
                  perform_action: light.turn_on
                  target:
                    area_id: hagyeongbang
                visibility:
                  - condition: state
                    entity: light.hagyeong_floor
                    state: 'off'
                light_background: false
                state_background: false
                show_background: true
                entity: light.hagyeong_floor
              - icon: mdi:lightbulb-on
                show_name: false
                name: ''
                tap_action:
                  action: perform-action
                  perform_action: light.turn_off
                  target:
                    area_id: hagyeongbang
                visibility:
                  - condition: state
                    entity: light.hagyeong_floor
                    state: 'on'
                light_background: false
                state_background: false
                show_background: false
                entity: light.hagyeong_floor
              - show_state: false
                show_last_changed: false
                show_attribute: false
                show_icon: true
                tap_action:
                  action: perform-action
                  perform_action: switch.turn_on
                  target:
                    area_id: hagyeongbang
                icon: mdi:toggle-switch-variant-off
                visibility:
                  - condition: state
                    entity: switch.hagyeongbang_jeondeung
                    state: 'off'
              - show_state: false
                show_last_changed: false
                show_attribute: false
                show_icon: true
                tap_action:
                  action: perform-action
                  perform_action: switch.turn_off
                  target:
                    area_id: hagyeongbang
                icon: mdi:toggle-switch-variant
                visibility:
                  - condition: state
                    entity: switch.hagyeongbang_jeondeung
                    state: 'on'
            card_layout: large
            button_action:
              tap_action:
                action: navigate
                navigation_path: '#hagyeong_light'
            tap_action:
              action: navigate
              navigation_path: '#hagyeong_light'
          - type: custom:mushroom-media-player-card
            entity: media_player.hagyeongbang
            name: 홈팟
            use_media_info: true
            show_volume_level: true
            volume_controls:
              - volume_mute
              - volume_set
            media_controls:
              - play_pause_stop
              - next
            grid_options:
              columns: full
              rows: 1
            fill_container: false
            layout: horizontal
            collapsible_controls: true
            card_mod:
              style: |
                ha-card {
                  {% if not is_state(config.entity, 'off') %}
                    background-image: url( '{{ state_attr( config.entity, "entity_picture" ) }}' );
                    background-position: center;
                    background-repeat: no-repeat;
                    background-size: cover;
                    position: relative;
                    background-blend-mode: overlay;
                  {% endif %}  
                }
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#energy'
                button_type: name
                entity: sensor.jeongiyogeum_kwhto_forecast_won
                name: 에너지
                icon: mdi:lightning-bolt
                force_icon: false
                show_attribute: false
                show_name: true
                card_layout: normal
                show_header: true
                sub_button: []
                styles: |
                  .bubble-close-button {
                    background: none !important;
                  }

                  .bubble-button-card-container {
                    background: none !important;
                  }
              - type: custom:vertical-stack-in-card
                cards:
                  - type: horizontal-stack
                    cards:
                      - type: entity
                        entity: sensor.jeongiyogeum_kwhto_won_prev
                        name: 전월 요금
                        unit: 원
                        card_mod:
                          style: |
                            ha-card > .header > .icon {
                              display: none;
                            }

                            ha-card > .info {
                              padding-bottom: 0.2em;
                            }

                            ha-card {
                              background: none;
                              border: none;
                            }
                      - type: entity
                        entity: sensor.jeongiyogeum_kwhto_forecast_won
                        name: 예상 요금
                        unit: 원
                        card_mod:
                          style: |
                            ha-card > .header > .icon {
                              display: none;
                            }

                            ha-card > .info {
                              padding-bottom: 0.2em;
                            }

                            ha-card {
                              background: none;
                              border: none;
                            }
                  - type: custom:mushroom-chips-card
                    chips:
                      - type: entity
                        entity: sensor.jeongiyogeum_kwhto_won
                        icon: mdi:currency-krw
                        icon_color: amber
                        card_mod:
                          style: |
                            ha-card {
                              background: none !important;
                              border: none;
                            }
                      - type: entity
                        entity: sensor.jeonryeogsayongryang_ilbyeol
                        icon: mdi:calendar-today
                        icon_color: light-green
                        card_mod:
                          style: |
                            ha-card {
                              background: none !important;
                              border: none;
                            }
                      - type: entity
                        entity: sensor.jeonryeogsayongryang_jubyeol
                        icon: mdi:calendar-week
                        icon_color: green
                        card_mod:
                          style: |
                            ha-card {
                              background: none !important;
                              border: none;
                            }
                  - type: custom:apexcharts-card
                    card_mod:
                      style: |
                        ha-card {
                          background: none;
                        }
                    hours_12: false
                    experimental:
                      color_threshold: true
                    apex_config:
                      chart:
                        height: 150
                        type: area
                      legend:
                        show: false
                      fill:
                        type: gradient
                        gradient:
                          shadeIntensity: 1
                          gradientToColors:
                            - >-
                              var(--bubble-pop-up-main-background-color,
                              var(--bubble-pop-up-background-color,
                              var(--bubble-secondary-background-color,
                              var(--background-color,
                              var(--secondary-background-color)))))
                            - >-
                              var(--bubble-pop-up-main-background-color,
                              var(--bubble-pop-up-background-color,
                              var(--bubble-secondary-background-color,
                              var(--background-color,
                              var(--secondary-background-color)))))
                          stops:
                            - 50
                            - 100
                    header:
                      show: false
                    yaxis:
                      - id: first
                        show: false
                      - id: second
                        show: false
                    series:
                      - entity: sensor.jeongiyogeum_kwhto_kwh
                        color: '#009688'
                        yaxis_id: first
                        type: area
                        group_by:
                          func: avg
                          duration: 15m
                      - entity: sensor.jeonryeogmiteo_power
                        color: '#ff9800'
                        yaxis_id: second
                        type: area
                        group_by:
                          func: avg
                          duration: 15m
                    all_series_config:
                      stroke_width: 1.5
                  - type: horizontal-stack
                    cards:
                      - type: custom:mushroom-entity-card
                        entity: sensor.jeongiyogeum_kwhto_kwh
                        icon: mdi:lightning-bolt
                        icon_color: amber
                        name: 이번 달 사용량
                        card_mod:
                          style: |
                            ha-card {
                              background: none !important;
                              border: none;
                            }
                      - type: custom:mushroom-entity-card
                        entity: sensor.jeongiyogeum_kwhto_forecast
                        name: 예상 총 사용량
                        icon: mdi:counter
                        icon_color: teal
                        card_mod:
                          style: |
                            ha-card {
                              background: none !important;
                              border: none;
                            }
                card_mod:
                  style: |
                    ha-card {
                      background: none;
                    }
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#coupy_light'
                button_type: name
                entity: sensor.jeongiyogeum_kwhto_forecast_won
                name: 혁진방 조명
                icon: mdi:ceiling-light-multiple
                force_icon: false
                show_attribute: false
                show_name: true
                card_layout: normal
                show_header: true
                sub_button: []
                styles: |
                  .bubble-close-button {
                    background: none !important;
                  }

                  .bubble-button-card-container {
                    background: none !important;
                  }
              - square: false
                type: grid
                cards:
                  - type: tile
                    entity: light.coupy_floor_light
                    name: 플로어등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: light.coupy_indirect_light
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: light.coupy_reading_light
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.hyeogjinbang_jeondeung
                    name: 전등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                columns: 2
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#hagyeong_light'
                button_type: name
                entity: sensor.jeongiyogeum_kwhto_forecast_won
                name: 하경방 조명
                icon: mdi:ceiling-light-multiple
                force_icon: false
                show_attribute: false
                show_name: true
                card_layout: normal
                show_header: true
                sub_button: []
                styles: |
                  .bubble-close-button {
                    background: none !important;
                  }

                  .bubble-button-card-container {
                    background: none !important;
                  }
              - square: false
                type: grid
                cards:
                  - type: tile
                    entity: light.hagyeong_floor
                    name: 플로어등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.hagyeongbang_jeondeung
                    name: 전등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                columns: 2
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#living_light'
                button_type: name
                entity: sensor.jeongiyogeum_kwhto_forecast_won
                name: 거실 조명
                icon: mdi:ceiling-light-multiple
                force_icon: false
                show_attribute: false
                show_name: true
                card_layout: normal
                show_header: true
                sub_button: []
                styles: |
                  .bubble-close-button {
                    background: none !important;
                  }

                  .bubble-button-card-container {
                    background: none !important;
                  }
              - square: false
                type: grid
                cards:
                  - type: tile
                    entity: light.living_floor_light
                    name: 플로어등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.geosil_jeondeung_top_left
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.geosil_jeondeung_top_right
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.geosil_jeondeung_center_left
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.geosil_jeondeung_bottom_left
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.geosil_jeondeung_bottom_right
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                columns: 2
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#dining_light'
                button_type: name
                entity: sensor.jeongiyogeum_kwhto_forecast_won
                name: 주방 조명
                icon: mdi:ceiling-light-multiple
                force_icon: false
                show_attribute: false
                show_name: true
                card_layout: normal
                show_header: true
                sub_button: []
                styles: |
                  .bubble-close-button {
                    background: none !important;
                  }

                  .bubble-button-card-container {
                    background: none !important;
                  }
              - square: false
                type: grid
                cards:
                  - type: tile
                    entity: switch.jubang_jeondeung_top
                    name: 큰등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.jubang_jeondeung_center
                    name: 작은등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.jubang_jeondeung_bottom
                    name: 베란다
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                columns: 2
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: pop-up
                hash: '#lights'
                button_type: name
                entity: sensor.jeongiyogeum_kwhto_forecast_won
                name: 조명
                icon: mdi:ceiling-light-multiple
                force_icon: false
                show_attribute: false
                show_name: true
                card_layout: normal
                show_header: true
                sub_button:
                  - name: 일괄 소등
                    show_name: true
                    state_background: false
                    show_state: false
                    show_last_changed: false
                    show_attribute: false
                    show_background: false
                    tap_action:
                      action: perform-action
                      perform_action: script.turn_off_all_lights
                      target: {}
                    icon: mdi:lightbulb-off-outline
                styles: |
                  .bubble-close-button {
                    background: none !important;
                  }

                  .bubble-button-card-container {
                    background: none !important;
                  }

                  .bubble-sub-button {
                    background: var(--bubble-secondary-background-color, var(--background-color, var(--secondary-background-color)));
                  }

                  .bubble-header {
                    margin-right: 0px !important;
                  }
              - type: custom:bubble-card
                card_type: separator
                name: 거실
                icon: mdi:television
                card_layout: large
              - square: false
                type: grid
                cards:
                  - type: tile
                    entity: light.living_floor_light
                    name: 플로어등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.geosil_jeondeung_top_left
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.geosil_jeondeung_top_right
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.geosil_jeondeung_center_left
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.geosil_jeondeung_bottom_left
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.geosil_jeondeung_bottom_right
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                columns: 2
              - type: custom:bubble-card
                card_type: separator
                name: 혁진방
                icon: mdi:door
                card_layout: large
              - square: false
                type: grid
                cards:
                  - type: tile
                    entity: light.coupy_floor_light
                    name: 플로어등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: light.coupy_indirect_light
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: light.coupy_reading_light
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.hyeogjinbang_jeondeung
                    name: 전등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                columns: 2
              - type: custom:bubble-card
                card_type: separator
                name: 하경방
                icon: mdi:door
                card_layout: large
              - square: false
                type: grid
                cards:
                  - type: tile
                    name: 플로어등
                    entity: light.hagyeong_floor
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.hagyeongbang_jeondeung
                    name: 전등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                columns: 2
              - type: custom:bubble-card
                card_type: separator
                name: 주방
                icon: mdi:countertop-outline
                card_layout: large
              - square: false
                type: grid
                cards:
                  - type: tile
                    entity: switch.jubang_jeondeung_top
                    name: 큰등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.jubang_jeondeung_center
                    name: 작은등
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                  - type: tile
                    entity: switch.jubang_jeondeung_bottom
                    name: 베란다
                    card_mod:
                      style: |
                        ha-card {
                          border: 1px solid var(--tile-color);
                        }
                columns: 2
    cards: []
    badges:
      - type: entity
        show_name: true
        show_state: true
        show_icon: true
        color: amber
        tap_action:
          action: navigate
          navigation_path: '#energy'
        icon: mdi:lightning-bolt
        entity: sensor.jeonryeogmiteo_power
        name: 에너지
      - type: custom:mushroom-template-badge
        content: >-
          {% set lights = [
            states.light.living_floor_light,
            states.light.hagyeong_floor,
            states.light.coupy_floor_light,
            states.light.coupy_indirect_light,
            states.light.coupy_reading_light,
            states.switch.geosil_jeondeung_bottom_left,
            states.switch.geosil_jeondeung_bottom_right,
            states.switch.geosil_jeondeung_center_left,
            states.switch.geosil_jeondeung_top_left,
            states.switch.geosil_jeondeung_top_right,
            states.switch.hagyeongbang_jeondeung,
            states.switch.hyeogjinbang_jeondeung,
            states.switch.jubang_jeondeung_top,
            states.switch.jubang_jeondeung_center,
            states.switch.jubang_jeondeung_bottom
          ] %}

          {% set count = lights | selectattr('state','eq','on') | list | count
          %}

          {% if (count > 0) %}

          {{ count }}개 켜짐

          {% else %}

          꺼짐

          {% endif %}
        icon: |-
          {% set lights = [
            states.light.living_floor_light,
            states.light.hagyeong_floor,
            states.light.coupy_floor_light,
            states.light.coupy_indirect_light,
            states.light.coupy_reading_light,
            states.switch.geosil_jeondeung_bottom_left,
            states.switch.geosil_jeondeung_bottom_right,
            states.switch.geosil_jeondeung_center_left,
            states.switch.geosil_jeondeung_top_left,
            states.switch.geosil_jeondeung_top_right,
            states.switch.hagyeongbang_jeondeung,
            states.switch.hyeogjinbang_jeondeung,
            states.switch.jubang_jeondeung_top,
            states.switch.jubang_jeondeung_center,
            states.switch.jubang_jeondeung_bottom
          ] %}
          {% if (lights | selectattr('state','eq','on') | list | count > 0) %}
          mdi:lightbulb-on
          {% else %}
          mdi:lightbulb-outline
          {% endif %}
        color: |-
          {% set lights = [
            states.light.living_floor_light,
            states.light.hagyeong_floor,
            states.light.coupy_floor_light,
            states.light.coupy_indirect_light,
            states.light.coupy_reading_light,
            states.switch.geosil_jeondeung_bottom_left,
            states.switch.geosil_jeondeung_bottom_right,
            states.switch.geosil_jeondeung_center_left,
            states.switch.geosil_jeondeung_top_left,
            states.switch.geosil_jeondeung_top_right,
            states.switch.hagyeongbang_jeondeung,
            states.switch.hyeogjinbang_jeondeung,
            states.switch.jubang_jeondeung_top,
            states.switch.jubang_jeondeung_center,
            states.switch.jubang_jeondeung_bottom
          ] %}
          {% if (lights | selectattr('state','eq','on') | list | count > 0) %}
          yellow
          {% else %}
          grey
          {% endif %}
        label: 조명
        tap_action:
          action: navigate
          navigation_path: '#lights'
    title: 집
