# Loads default set of integrations. Do not remove.
default_config:

# Load frontend themes from the themes folder
frontend:
  themes: !include_dir_merge_named themes

automation: !include automations.yaml
script: !include scripts.yaml
scene: !include_dir_merge_list scenes
sensor: !include sensors.yaml
template: !include templates.yaml
influxdb: !include influxdb.yaml

# Reverse Proxy 설정
http:
  use_x_forwarded_for: true
  trusted_proxies:
    - 172.30.33.0/24 # Supervisor 애드온 네트워크
    - 172.30.0.0/16 # NPM
  # ssl 설정
  # server_port: 443
  # ssl_certificate: /ssl/fullchain.pem
  # ssl_key: /ssl/privkey.pem

# 재연결 및 타임아웃 설정
recorder:
  commit_interval: 5
  purge_keep_days: 7

# ===========================
# Lovelace 설정
# ===========================
lovelace:
  mode: storage
  resources:
    - url: /hacsfiles/button-card/button-card.js
      type: module
    - url: /hacsfiles/lovelace-card-mod/card-mod.js
      type: module
    - url: /hacsfiles/lovelace-auto-entities/auto-entities.js
      type: module
  dashboards:
    ui-minimalist:
      mode: yaml
      filename: ui_lovelace_minimalist/dashboard/ui-lovelace.yaml
      title: UI Lovelace Minimalist
      icon: mdi:flower
      show_in_sidebar: false

#################################
# Gas meter (ESP32-CAM + OCR)   #
#################################
homeassistant:
  media_dirs:
    local: /config/www

input_number:
  gas_meter_2:
    name: box
    min: 0
    max: 99999
    step: 0.001
    unit_of_measurement: m³

input_text:
  gas_message_2:
    name: gas message 2
    max: 255

utility_meter:
  gas_meter_monthly:
    source: sensor.gas_meter_2
    cycle: monthly
